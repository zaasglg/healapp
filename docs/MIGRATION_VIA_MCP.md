# Применение миграций через MCP Supabase

## Проблема

Сервер не может подключиться к Supabase Cloud (DNS не разрешается), поэтому `pg_dump` через Docker не работает.

## Решение

Используется MCP Supabase для получения схемы напрямую и применения на российский сервер.

## Статус

- ✅ Получен список всех миграций через MCP (95 миграций)
- ✅ Получена структура всех таблиц через MCP
- ⏳ Получение полной схемы через MCP (в процессе)

## Метод

1. Получить все типы (ENUM) через MCP
2. Получить все таблицы через MCP
3. Получить все функции через MCP
4. Получить все RLS политики через MCP
5. Собрать все в один SQL файл
6. Применить на российский сервер

## Альтернативные методы

Если MCP метод не сработает полностью:

1. **Через Supabase Dashboard:**
   - Откройте https://mtpawypaihmwrngirnxa.supabase.co
   - Database → SQL Editor
   - Выполните запросы для получения схемы

2. **Скачать бинарник Supabase CLI:**
   - https://github.com/supabase/cli/releases
   - Распаковать и использовать напрямую

3. **Использовать локальные миграции:**
   - В проекте есть 37 локальных миграций
   - Применить их и дополнить недостающими через MCP

